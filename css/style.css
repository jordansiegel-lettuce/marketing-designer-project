@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    font-family: 'Press Start 2P', cursive;
    background: #f0f0f0; /* light mode */
    color: #111;         /* dark body text for contrast */
    min-height: 100vh;
    position: relative;
}

/* --- Animated pixel grid background --- */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
        linear-gradient(#008cff 1px, transparent 1px),
        linear-gradient(90deg, #008cff 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.1;
    animation: moveGrid 10s linear infinite;
    z-index: 0;
    pointer-events: none;
}

/* Grid animation */
@keyframes moveGrid {
    0% { transform: translate(0, 0); }
    100% { transform: translate(-20px, -20px); }
}

/* --- Container for login box --- */
.login-container {
    position: relative;
    background: #f9f9f9; /* lighter panel */
    border: 4px solid #008cff;
    padding: 30px;
    width: 100%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 0 20px rgba(0, 140, 255, 0.15), 0 0 40px rgba(0, 140, 255, 0.06) inset;
    border-radius: 8px;
    z-index: 1;
    margin: 20px auto;
}

/* Logo */
.logo h1 {
    color: #008cff;
    text-shadow: 2px 2px 0 #ffffff; /* glow on light bg */
    font-size: 16px;
    margin: 0 0 20px 0;
}

/* Tabs */
.login-tab {
    display: flex;
    gap: 2px;
    margin-bottom: 20px;
}

.login-tab div {
    flex: 1;
    padding: 12px 10px;
    background: #e0e0e0;
    color: #008cff;
    cursor: pointer;
    border: 2px solid #008cff;
    font-size: 12px;
    transition: all 0.2s ease;
    text-align: center;
}

.login-tab div:first-child { border-radius: 4px 0 0 4px; }
.login-tab div:last-child  { border-radius: 0 4px 4px 0; }

.login-tab div.active {
    background: #008cff;
    color: #fff; /* better contrast than #111 on blue */
    box-shadow: 0 0 10px rgba(0, 140, 255, 0.5);
}

/* Form groups */
.form-group {
    margin-bottom: 20px;
    text-align: left;
}

.form-group label {
    display: block;
    font-size: 10px;
    margin-bottom: 8px;
    color: #008cff;
}

.form-group input {
    width: 100%;
    padding: 12px;
    border: 2px solid #008cff;
    background: #ffffff;
    color: #111;
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    border-radius: 4px;
    outline: none;
    transition: all 0.3s ease;
}

.form-group input:focus {
    box-shadow: 0 0 10px rgba(0, 140, 255, 0.35);
    background: #fdfdfd;
}

/* Default Buttons */
button {
    padding: 12px;
    border: 2px solid #008cff;
    background: #f0f0f0;
    color: #008cff;
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    cursor: pointer;
    border-radius: 5px;
    transition: all 0.3s ease;
}

button:hover {
    background: #008cff;
    color: #fff; /* improved contrast on hover */
    box-shadow: 0 0 15px rgba(0, 140, 255, 0.35);
    transform: translateY(-1px);
}

button:active { transform: translateY(0); }

/* Dashboard Container - Flex Layout */
.dashboard-container {
    display: flex;
    flex-direction: row;
    min-height: 100vh;
    width: 100%;
    position: relative;
    z-index: 2;
}

/* Left Sidebar - Header */
.dashboard-header {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 300px;
    background: #eaeaea; /* light panel */
    border-right: 4px solid #008cff;
    padding: 30px 20px;
    box-shadow: 4px 0 20px rgba(0, 140, 255, 0.12);
    display: flex;
    flex-direction: column;
    gap: 15px;
    z-index: 10;
    overflow-y: auto;
}

.dashboard-header h1 {
    font-size: 14px;
    color: #008cff;
    text-shadow: 1px 1px 0 #ffffff;
    margin: 0 0 20px 0;
    text-align: center;
    border-bottom: 1px solid rgba(0, 140, 255, 0.25);
    padding-bottom: 15px;
}

.dashboard-header h1 #userName { color: #00b870; }

/* Header Buttons */
.dashboard-header .logoutBtn,
.dashboard-header .saveBtn,
.dashboard-header .loadBtn {
    width: 100%;
    margin: 0 0 10px 0;
    padding: 15px 12px;
    font-size: 10px;
    text-align: center;
}

/* Add navigation buttons directly to sidebar with JavaScript targeting */
#bannerEditorBtn,
#landingEditorBtn,
#marketingEditorBtn {
    position: fixed !important;
    width: 260px !important;
    left: 20px !important;
    background: #eaeaea !important;
    border: 2px solid #008cff !important;
    color: #008cff !important;
    font-family: 'Press Start 2P', cursive !important;
    font-size: 10px !important;
    padding: 15px 12px !important;
    border-radius: 4px !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    z-index: 15 !important;
}

#bannerEditorBtn { top: 450px !important; }
#landingEditorBtn { top: 515px !important; }
#marketingEditorBtn { top: 580px !important; }

#bannerEditorBtn:hover,
#landingEditorBtn:hover,
#marketingEditorBtn:hover {
    background: #008cff !important;
    color: #fff !important;
    box-shadow: 0 0 15px rgba(0, 140, 255, 0.35) !important;
    transform: translateX(5px) !important;
}

/* Main Content Area - Offset by Sidebar Width */
.main-view {
    margin-left: 300px;
    width: calc(100% - 300px);
    min-height: 100vh;
    background: #f9f9f9; /* light content panel */
    border-left: 4px solid #008cff;
    padding: 30px;
    display: flex;
    flex-direction: column;
    position: relative;
}

/* Editor Toolbar */
.editor-toolbar {
    margin-bottom: 30px;
    text-align: center;
    background: #eaeaea; /* light toolbar */
    border: 2px solid #008cff;
    border-radius: 6px;
    padding: 20px;
    box-shadow: inset 0 0 10px rgba(0, 140, 255, 0.08);
}

.editor-toolbar h2 {
    font-size: 16px;
    color: #008cff;
    text-shadow: 1px 1px 0 #ffffff;
    margin: 0 0 10px 0;
}

.editor-toolbar p {
    font-size: 10px;
    color: #333; /* darker paragraph text on light bg */
    margin: 0;
    opacity: 0.85;
}

/* Workspace */
.workspace {
    background: #ffffff; /* white canvas */
    border: 2px dashed #008cff;
    padding: 30px;
    border-radius: 6px;
    flex: 1;
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: inset 0 0 15px rgba(0, 140, 255, 0.1);
    position: relative;
    overflow: auto;
}

.workspace p {
    font-size: 12px;
    color: #555;
    text-align: center;
    opacity: 0.7;
}
/* So the "Workspace Preview" paragraph never eats the drop */
.workspace > p { pointer-events: none; }

/* Stop native browser drag on images inside the workspace */
.workspace img { -webkit-user-drag: none; }

/* Landing Elements */
.landing-element {
    padding: 20px;
    text-align: center;
    cursor: text;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1.4;
    min-width: 200px;
    max-width: 400px;
    white-space: pre-wrap;
    word-break: break-word;
    outline: none;
    margin: 0 auto;
}

.landing-button {
    display: inline-block;
    padding: 12px 18px;
    border: 2px solid #008cff;
    background: #f0f0f0;
    color: #008cff;
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    border-radius: 5px;
    transition: all 0.3s ease;
    white-space: pre-wrap;
    cursor: pointer;
}

.landing-button:hover {
    background: #008cff;
    color: #fff;
    box-shadow: 0 0 15px rgba(0, 140, 255, 0.35);
    transform: translateY(-1px);
}

/* Make forms lay out normally (stacked fields) */
.landing-form {
  display: block;                 /* cancel the flex from .landing-element */
  width: 320px;                   /* room for fields */
  padding: 12px;
  border: 2px solid #008cff;
  background: #f9f9f9;           /* light panel */
  border-radius: 6px;
  text-align: left;               /* labels left */
  white-space: normal;            /* stop forced wrapping per char */
  word-break: normal;             /* stop breaking in the middle of words */
}

/* fields */
.landing-form label {
  display: block;
  margin: 8px 0 6px;
  font-size: 10px;
  color: #008cff;
  white-space: normal;
  word-break: normal;
}

.landing-form input,
.landing-form textarea {
  width: 100%;
  border: 2px solid #008cff;
  background: #ffffff;  /* light inputs */
  color: #111;
  font-family: 'Press Start 2P', cursive;
  font-size: 10px;
  padding: 8px 6px;
  border-radius: 4px;
  outline: none;
}

.landing-form input:focus,
.landing-form textarea:focus {
  box-shadow: 0 0 10px rgba(0, 140, 255, 0.35);
}

.landing-form .landing-button { margin-top: 10px; }

/* Banner Toolbar */
.banner-toolbar {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}

.banner-shape {
    padding: 12px;
    border: 2px dashed #008cff;
    background: #f0f0f0;
    color: #008cff;
    cursor: grab;
    transition: all 0.2s ease;
    border-radius: 4px;
}

.banner-shape:hover {
    background: #008cff;
    color: #fff;
    transform: scale(1.05);
}

.banner-shape:active { cursor: grabbing; }

/* Banner */
.banner {
    position: absolute;
    background: rgba(0, 140, 255, 0.15);
    border: 2px solid #008cff;
    color: #008cff;
    text-align: center;
    font-size: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    white-space: pre-wrap;
    word-break: break-word;
    outline: none;
    border-radius: 3px;
    cursor: move;
}

.banner:hover {
    background: rgba(0, 140, 255, 0.22);
    box-shadow: 0 0 10px rgba(0, 140, 255, 0.25);
}
.banner .banner-content{
  width: 100%;
  height: 100%;
  padding: 6px;
  white-space: pre-wrap;
  overflow-wrap: anywhere;
}

/* === Marketing Editor Toolbar Stability Fix === */
.marketing-toolbar {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.marketing-toolbar .template-row,
.marketing-toolbar .format-row,
.marketing-toolbar .action-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 6px;
}

.marketing-toolbar select,
.marketing-toolbar input[type="number"],
.marketing-toolbar input[type="color"],
.marketing-toolbar button {
  flex-shrink: 0;
}

#mkFontSize { width: 60px; box-sizing: border-box; }
#mkFontFamily { width: 180px; box-sizing: border-box; }
#mkHeading { width: 120px; box-sizing: border-box; }

.mk-btn {
  padding: 4px 8px;
  cursor: pointer;
}

.email-canvas {
  min-height: 400px;
  border: 1px solid #ccc;
  padding: 10px;
  background: #fff; /* email canvas stays white */
}

/* Keep inserted images responsive in marketing emails */
.email-canvas img {
  max-width: 100%;
  height: auto;
  display: block;
}

@media (max-width: 1024px) {
    .dashboard-header { width: 250px; }
    .main-view { margin-left: 250px; width: calc(100% - 250px); }
}

@media (max-width: 768px) {
    .dashboard-header {
        width: 200px;
        padding: 20px 10px;
    }
    .main-view {
        margin-left: 200px;
        width: calc(100% - 200px);
        padding: 20px;
    }
    .dashboard-nav button,
    .dashboard-header .logoutBtn,
    .dashboard-header .saveBtn,
    .dashboard-header .loadBtn {
        font-size: 9px;
        padding: 12px 8px;
    }
}

@media (max-width: 480px) {
    .dashboard-header {
        width: 150px;
        padding: 15px 5px;
    }
    .main-view {
        margin-left: 150px;
        width: calc(100% - 150px);
        padding: 15px;
    }
    .dashboard-nav button,
    .dashboard-header .logoutBtn,
    .dashboard-header .saveBtn,
    .dashboard-header .loadBtn {
        font-size: 8px;
        padding: 10px 5px;
    }
    .workspace { min-height: 300px; }
}

/* ——— Scoped editor additions ——— */
.workspace .landing-element { position:absolute; }
.workspace .landing-element .editable {
  display:inline-block;
  min-width:260px;
  max-width:620px;
  white-space:pre-wrap;
  overflow-wrap:anywhere;
}
.workspace .landing-element .drag-handle{
  /* already positioned in JS; keep them above content */
  pointer-events:auto;
  width: 50px;
}

.workspace .landing-element .element-delete-btn {
    pointer-events: auto;
    width:20px;
}
/* Force correct cursor inside landing editor toolbar */
.landing-toolbar * {
    cursor: default !important;   /* reset to default arrow */
    user-select: none !important; /* stop unwanted text highlighting */
}

/* But make actual buttons clickable */
.landing-toolbar button,
.landing-toolbar select,
.landing-toolbar input {
    cursor: pointer !important;   /* hand pointer for clickable things */
}

